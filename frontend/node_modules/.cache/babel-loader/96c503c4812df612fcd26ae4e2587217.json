{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hamad\\\\Desktop\\\\E-commerce\\\\frontend\\\\src\\\\screens\\\\SigninScreen.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { signin } from '../Actions/userActions';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SigninScreen(props) {\n  _s();\n\n  const localPassword = localStorage.getItem(\"password\");\n  const localEmail = localStorage.getItem(\"email\");\n  const [password, setPassword] = useState(localPassword ? JSON.parse(localPassword) : \"\");\n  const [email, setEmail] = useState(localEmail ? JSON.parse(localEmail) : \"\");\n  const [flag, setFlag] = useState(false);\n  const redirect = props.location.search ? props.location.search.split('=')[1] : '/';\n  useEffect(async () => {\n    if (flag) {\n      await axios.post(\"/signin\", {\n        password: password,\n        email: email\n      }).then(data => {\n        c;\n\n        if (data.data.message === \"ok\") {\n          localStorage.setItem(\"email\", JSON.stringify(email));\n          localStorage.setItem(\"password\", JSON.stringify(password));\n        }\n      });\n      setFlag(false);\n    }\n  }, [email, password, flag]);\n\n  const login = async () => {\n    setFlag(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \" Sign in \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \"Email address \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          id: \"email\",\n          placeholder: \"enter email\",\n          onChange: e => {\n            setEmail(e.target.value);\n          },\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 32\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: \"Password \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"password\",\n          placeholder: \"enter password\",\n          onChange: e => {\n            setPassword(e.target.value);\n          },\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 20\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          onClick: login,\n          className: \"primary \",\n          children: \" sign in \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 29\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 41\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\" New customer ? \", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/register\",\n            children: \" Create your account \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 34\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 41\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SigninScreen, \"NwoJW4vD/TX2a2C+85fYkAmZiPo=\");\n\n_c = SigninScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"SigninScreen\");","map":{"version":3,"sources":["C:/Users/hamad/Desktop/E-commerce/frontend/src/screens/SigninScreen.js"],"names":["React","Link","useState","useEffect","axios","signin","useDispatch","useSelector","SigninScreen","props","localPassword","localStorage","getItem","localEmail","password","setPassword","JSON","parse","email","setEmail","flag","setFlag","redirect","location","search","split","post","then","data","c","message","setItem","stringify","login","e","target","value"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { signin } from '../Actions/userActions';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\n\r\nexport default function SigninScreen(props) {\r\n    const localPassword = localStorage.getItem(\"password\")\r\n    const localEmail = localStorage.getItem(\"email\")\r\n\r\n    const [password, setPassword] = useState(localPassword ? JSON.parse(localPassword) : \"\")\r\n    const [email, setEmail] = useState(localEmail ? JSON.parse(localEmail) : \"\")\r\n    const [flag, setFlag] = useState(false)\r\n\r\n    const redirect = props.location.search\r\n        ? props.location.search.split('=')[1]\r\n        : '/';\r\n    useEffect(async () => {\r\n        if (flag) {\r\n            await axios.post(\"/signin\", {\r\n                password: password,\r\n                email: email\r\n            }).then((data) => {\r\n                c\r\n                if (data.data.message === \"ok\") {\r\n                    localStorage.setItem(\"email\", JSON.stringify(email))\r\n                    localStorage.setItem(\"password\", JSON.stringify(password))\r\n                }\r\n\r\n            })\r\n            setFlag(false)\r\n\r\n        }\r\n\r\n    \r\n        \r\n    }, [email, password, flag]);\r\nconst login = async () => {\r\n    setFlag(true)\r\n}\r\n\r\nreturn (<\r\n            div >\r\n    <\r\n            form className=\"form\"\r\n    >\r\n\r\n        <\r\n            h1 > Sign in < /h1><\r\n            div > <\r\n            label htmlFor=\"email\" >\r\n                    Email address <\r\n            /label>\r\n\r\n                    <\r\n                        input type=\"email\"\r\n                        id=\"email\"\r\n                        placeholder=\"enter email\"\r\n                        onChange={(e) => {\r\n                            setEmail(e.target.value)\r\n                        }}\r\n                        required\r\n\r\n\r\n                    />\r\n\r\n                    <\r\n            /div > <\r\n            div > <\r\n            label htmlFor=\"password\" >\r\n                            Password <\r\n            /label>\r\n\r\n                            <\r\n                                input type=\"password\"\r\n                                id=\"password\"\r\n                                placeholder=\"enter password\"\r\n                                onChange={(e) => {\r\n                                    setPassword(e.target.value)\r\n                                }}\r\n                                required\r\n                            />\r\n\r\n                            <\r\n\r\n            /div >\r\n\r\n                            <\r\n            div >\r\n                                <\r\n                                    label /\r\n                                >\r\n                                <\r\n                                        button type=\"submit\" onClick={login}\r\n                                    className=\"primary \"\r\n                                > sign in < /button >\r\n\r\n\r\n\r\n                                    <\r\n            /div> <\r\n            div >\r\n                                        <\r\n                                            label /\r\n                                        >\r\n                                        <\r\n            div > New customer ? < Link to=\"/register\" > Create your account < /Link>\r\n\r\n                                                <\r\n            /div>\r\n\r\n\r\n\r\n                                                <\r\n            /div>\r\n\r\n\r\n\r\n\r\n                                                <\r\n            /\r\n            form > < /\r\n            div >\r\n                                                )\r\n    }\r\n"]},"metadata":{},"sourceType":"module"}