{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hamad\\\\Desktop\\\\E-commerce\\\\frontend\\\\src\\\\screens\\\\ProductScreen.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { detailsProduct } from '../Actions/productActions';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Axios from 'axios';\nimport { listProducts } from '../Actions/productActions';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ProductScreen(props) {\n  _s();\n\n  const [qty, setQty] = useState(1); // const products = data.products;\n  // const id = props.match.params.id\n\n  const id = useParams();\n  console.log(id);\n  const dispatch = useDispatch();\n  const productList = useSelector(state => state.productList);\n  const {\n    products\n  } = productList;\n  let product = {\n    \"name\": \" \",\n    \"category\": \" \",\n    \"image\": \" \",\n    \"countInStock\": 0,\n    \"price\": 0,\n    \"brand\": \" \",\n    \"rating\": 0,\n    \"nreviews\": 0,\n    \"description\": \" \"\n  };\n  const userId = JSON.parse(localStorage.getItem(\"userId\"));\n\n  const addToCartHandler = async (id, qty) => {\n    await axios.post(`/615b4d369e839e5116fcbe9d/cart/${id}`, {\n      \"amount\": qty\n    }).then(() => alert(\"added successfully\"));\n  };\n\n  useEffect(() => {\n    dispatch(listProducts());\n  }, [dispatch]);\n  const tempProduct = products;\n\n  for (let i = 0; i < tempProduct.length; i++) {\n    if (tempProduct[i]._id == id.id.trim()) {\n      product = tempProduct[i];\n      break;\n    }\n  }\n\n  console.log(id);\n  /* const addToCartHandler = () => {\r\n      console.log(id)\r\n        props.history.push({\r\n          pathname: '/cart',\r\n            state: [{id:id.id.trim(),qty:qty}] // your data array of objects\r\n        })\r\n        \r\n                // Axios.post()\r\n  } */\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\",\n      children: \" Back to result \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-2\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n          src: product ? product.image : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 57\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 31\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-1\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: [\" \", product.name, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 55\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 48\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [product.price, \"$ \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 22\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [\" \", \" \", product.nreviews, \"reviews \", /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rating\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: product.rating >= 1 ? 'fa fa-star' : product.rating >= .5 ? 'fa fa-star-half-o' : 'fa fa-star-o',\n                  children: \" \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 16\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: product.rating >= 2 ? 'fa fa-star' : product.rating >= 1.5 ? 'fa fa-star-half-o' : 'fa fa-star-o',\n                  children: \" \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 51\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: product.rating >= 3 ? 'fa fa-star' : product.rating >= 2.5 ? 'fa fa-star-half-o' : 'fa fa-star-o',\n                  children: \" \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 55\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: product.rating >= 4 ? 'fa fa-star' : product.rating >= 3.5 ? 'fa fa-star-half-o' : 'fa fa-star-o',\n                  children: \" \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 59\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: product.rating >= 5 ? 'fa fa-star' : product.rating >= 4.5 ? 'fa fa-star-half-o' : 'fa fa-star-o',\n                  children: \" \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 63\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 51\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [product.description, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 15\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 41\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-1\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card card-body\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: \" Price \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 167\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"price\",\n                  children: [\" \", product.price, \"$ \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 29\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 143\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 136\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"   \", /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: \" status \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 54\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"status\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [\" \", product.countInStock > 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"success\",\n                      children: \" In stock \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 129,\n                      columnNumber: 109\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"error\",\n                      children: \" Unavailable\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 129,\n                      columnNumber: 160\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 127,\n                    columnNumber: 73\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 30\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 32\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 23\n            }, this), product.countInStock > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: \" Qty \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 152,\n                    columnNumber: 101\n                  }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                      value: qty,\n                      onChange: e => setQty(e.target.value),\n                      children: [\" \", [...Array(product.countInStock).keys()].map(x => /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: x + 1,\n                        children: [\" \", x + 1, \" \"]\n                      }, x + 1, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 161,\n                        columnNumber: 29\n                      }, this)), \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 156,\n                      columnNumber: 17\n                    }, this), \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 153,\n                    columnNumber: 35\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 97\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 93\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"primary block\",\n                  onClick: () => {\n                    addToCartHandler(id.id.trim(), qty);\n                  },\n                  children: \"ADD TO CART\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 17\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 22\n              }, this), \" \"]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 129\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 94\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 68\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 47\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 13\n  }, this);\n}\n\n_s(ProductScreen, \"SglXEcudJjdTSd5dr38MWiSasUM=\", false, function () {\n  return [useParams, useDispatch, useSelector];\n});\n\n_c = ProductScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductScreen\");","map":{"version":3,"sources":["C:/Users/hamad/Desktop/E-commerce/frontend/src/screens/ProductScreen.js"],"names":["React","Link","useParams","useEffect","useState","detailsProduct","useDispatch","useSelector","Axios","listProducts","axios","ProductScreen","props","qty","setQty","id","console","log","dispatch","productList","state","products","product","userId","JSON","parse","localStorage","getItem","addToCartHandler","post","then","alert","tempProduct","i","length","_id","trim","image","name","price","nreviews","rating","description","countInStock","e","target","value","Array","keys","map","x"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useEffect, useState } from 'react';\r\nimport { detailsProduct } from '../Actions/productActions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Axios from 'axios';\r\nimport { listProducts } from '../Actions/productActions';\r\nimport axios from 'axios';\r\nexport default function ProductScreen(props) {\r\n    const [qty, setQty] = useState(1);\r\n    // const products = data.products;\r\n    // const id = props.match.params.id\r\n    const id = useParams();\r\n    console.log(id)\r\n    const dispatch = useDispatch();\r\n    const productList = useSelector((state) => state.productList);\r\n    const { products } = productList;\r\n    let product = {\r\n        \"name\": \" \",\r\n        \"category\": \" \",\r\n        \"image\": \" \",\r\n        \"countInStock\": 0,\r\n        \"price\": 0,\r\n        \"brand\": \" \",\r\n        \"rating\": 0,\r\n        \"nreviews\": 0,\r\n        \"description\": \" \"\r\n    };\r\n    const userId= JSON.parse(localStorage.getItem(\"userId\"))\r\n\r\n    const addToCartHandler = async(id,qty) => {\r\n        await axios.post(`/615b4d369e839e5116fcbe9d/cart/${id}`,{\"amount\":qty}).then(\r\n            ()=>alert(\"added successfully\")\r\n        )\r\n      }\r\n\r\n\r\n    useEffect(() => {\r\n\r\n\r\n        dispatch(listProducts());\r\n    }, [dispatch]);\r\n\r\n    const tempProduct = products\r\n    for (let i = 0; i < tempProduct.length; i++) {\r\n        if (tempProduct[i]._id == id.id.trim()) {\r\n            product = tempProduct[i];\r\n            break;\r\n        }\r\n    }\r\n\r\n    console.log(id)\r\n\r\n    /* const addToCartHandler = () => {\r\n        console.log(id)\r\n\r\n        props.history.push({\r\n            pathname: '/cart',\r\n              state: [{id:id.id.trim(),qty:qty}] // your data array of objects\r\n          })\r\n          \r\n                  // Axios.post()\r\n    } */\r\n    return (<\r\n        div >\r\n\r\n        <\r\n        Link to=\"/\" > Back to result < /Link> <\r\n        div className=\"row\" > < div className=\"col-2\" > < img src={(product) ? product.image : \"\"}\r\n                /> < /\r\n        div > < div className=\"col-1\" > < ul > < li > < h1 > {\r\n                        product.name\r\n\r\n                    } < /\r\n        h1 > < /li > <li>{product.price}$ < /li > < li > {\r\n\r\n                        } {\r\n                                product.nreviews\r\n                            }\r\n                            reviews <\r\n        div className=\"rating\" >\r\n                                <\r\n        span > <\r\n        i className={\r\n                                            product.rating >=\r\n                                                1 ?\r\n                                                'fa fa-star' : product.rating >= .5 ?\r\n                                                    'fa fa-star-half-o' : 'fa fa-star-o'\r\n                                        } > < /i> <\r\n        i className={\r\n                                                product.rating >=\r\n                                                    2 ?\r\n                                                    'fa fa-star' : product.rating >= 1.5 ?\r\n                                                        'fa fa-star-half-o' : 'fa fa-star-o'\r\n                                            } > < /i> <\r\n        i className={\r\n                                                    product.rating >= 3 ?\r\n                                                        'fa fa-star' : product.rating >=\r\n                                                            2.5 ?\r\n                                                            'fa fa-star-half-o' : 'fa fa-star-o'\r\n                                                } > < /i> <\r\n        i className={\r\n                                                        product.rating >= 4 ?\r\n                                                            'fa fa-star' : product.rating >= 3.5 ?\r\n                                                                'fa fa-star-half-o' : 'fa fa-star-o'\r\n                                                    } > < /i> <\r\n        i className={\r\n                                                            product.rating >= 5 ?\r\n                                                                'fa fa-star' : product.rating >= 4.5 ?\r\n                                                                    'fa fa-star-half-o' : 'fa fa-star-o'\r\n                                                        } > < /i> < /\r\n        span >\r\n\r\n                                                        <\r\n        /div>\r\n\r\n                                                        <\r\n        /li > < li >{product.description} < /li > < /ul > < /div > < div className=\"col-1\" > < div className=\"card card-body\" > < ul > < li > < div className=\"row\" > <\r\n        div > Price < /div> <\r\n        div className=\"price\" > {product.price}\r\n                                                                $ < /div> < /\r\n        div > < /li > < li >   <div className=\"row\"> <\r\n        div > status < /div> <\r\n        div className=\"status\" >\r\n\r\n                                                                        <\r\n        div > {\r\n                                                                                product.countInStock > 0 ? (< span className=\"success\" > In stock < /span>): ( < span className=\"error\" > Unavailable< /span > )\r\n        }\r\n\r\n                                                                                    <\r\n        /div>\r\n\r\n\r\n\r\n\r\n                                                                                    <\r\n        /div> < /\r\n        div > < /li >\r\n\r\n\r\n\r\n\r\n                                                                                    {\r\n                                                                                        product.countInStock > 0 && ( <\r\n                >\r\n                                                                                            <\r\n                li >\r\n                                                                                                <\r\n                div className=\"row\" >\r\n                                                                                                    <\r\n                div > Qty < /div> <\r\n                div >\r\n                                                                                                   \r\n                <select value={qty}\r\n            onChange={\r\n                (e) => setQty(e.target.value)\r\n            } > {\r\n                [...Array(product.countInStock).keys()].map(\r\n                    (x) => (<option key={x + 1} value={x + 1} > {x + 1} </option> ))} </select> < /\r\n                div > <\r\n                /div> < /\r\n                li > <\r\n                li >                                                                                                            \r\n                <\r\n                button                                                                                                                \r\n                className=\"primary block\" onClick={()=>{addToCartHandler(id.id.trim(),qty)}} >ADD TO CART  \r\n                 <\r\n                /button> < /\r\n                li > <\r\n                />\r\n                                                                                                                                    )\r\n        }\r\n\r\n\r\n\r\n                                                                                                                                    <\r\n\r\n        /ul > < /\r\n        div > < /div >\r\n\r\n\r\n                                                                                                                                    <\r\n        /div >< /div >\r\n                                                                                                                                    );\r\n\r\n\r\n\r\n   \r\n\r\n\r\n\r\n\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}